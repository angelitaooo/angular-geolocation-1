{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/mapa/mapa.component.css","./src/app/components/mapa/mapa.component.html","./src/app/components/mapa/mapa.component.ts","./src/app/material.module.ts","./src/app/services/device.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<mat-toolbar color=\\\"primary\\\">\\n  <span>Geolocation</span>\\n</mat-toolbar>\\n\\n<div class=\\\"main-container\\\">\\n  <app-mapa></app-mapa>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { MaterialModule } from './material.module';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MapaComponent } from './components/mapa/mapa.component';\r\n\r\nimport { DeviceService } from './services/device.service';\r\n\r\nimport { AgmCoreModule } from '@agm/core';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MapaComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    AgmCoreModule.forRoot({\r\n      apiKey: 'AIzaSyBxa_9f44lAmCRS2HNo_ipW2EsJx6J2LJ4',\r\n      libraries: ['geometry']\r\n    })\r\n  ],\r\n  providers: [\r\n    DeviceService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"agm-map {\\r\\n    height: 600px;\\r\\n    width: 60vw;\\r\\n}\\r\\n\\r\\nmat-card-content {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: horizontal;\\r\\n    -webkit-box-direction: normal;\\r\\n        -ms-flex-direction: row;\\r\\n            flex-direction: row;\\r\\n}\\r\\n\\r\\n.right {\\r\\n    padding: 20px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.mat-column-title {\\r\\n    -webkit-box-flex: 0;\\r\\n        -ms-flex: 0 0 50%;\\r\\n            flex: 0 0 50%;\\r\\n}\\r\\n\\r\\n.title {\\r\\n    color: #333398;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/mapa/mapa.component.css\n// module id = ./src/app/components/mapa/mapa.component.css\n// module chunks = main","module.exports = \"<mat-card>\\r\\n\\r\\n  <mat-card-content *ngIf=\\\"location\\\">\\r\\n\\r\\n    <agm-map [latitude]=\\\"lat\\\" [longitude]=\\\"lng\\\" [zoom]=\\\"17\\\">\\r\\n\\r\\n      <agm-circle [latitude]=\\\"location.lat\\\" [longitude]=\\\"location.lng\\\" [radius]=\\\"radius\\\">\\r\\n\\r\\n      </agm-circle>\\r\\n\\r\\n      <agm-marker (dragEnd)=\\\"dragEnd($event)\\\" [markerDraggable]=\\\"true\\\" [latitude]=\\\"location.lat\\\" [longitude]=\\\"location.lng\\\">\\r\\n\\r\\n      </agm-marker>\\r\\n\\r\\n      <agm-marker *ngFor=\\\"let device of nearbyDevices; let i = index\\\" [latitude]=\\\"device.lat\\\" [longitude]=\\\"device.lng\\\">\\r\\n\\r\\n        <agm-info-window>\\r\\n          <strong> titulo </strong>\\r\\n          <p> desc </p>\\r\\n          <!-- <div>\\r\\n            <button mat-raised-button color=\\\"primary\\\">Editar</button>\\r\\n            <button (click)=\\\"borrarMarcador(i)\\\" mat-raised-button color=\\\"warn\\\">Borrar</button>\\r\\n          </div> -->\\r\\n        </agm-info-window>\\r\\n\\r\\n      </agm-marker>\\r\\n\\r\\n    </agm-map>\\r\\n\\r\\n    <div class=\\\"right\\\">\\r\\n\\r\\n      <div>\\r\\n        <mat-form-field>\\r\\n          <mat-select placeholder=\\\"Select radius\\\" name=\\\"radius\\\" [(ngModel)]=\\\"radius\\\" (change)=\\\"onChange($event.value)\\\">\\r\\n            <mat-option *ngFor=\\\"let opt of radiusOpts\\\" [value]=\\\"opt\\\">\\r\\n              {{ opt }} m\\r\\n            </mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div>\\r\\n        <h2 class=\\\"title\\\">Non access devices</h2>\\r\\n\\r\\n        <mat-table #table [dataSource]=\\\"dataSource\\\">\\r\\n\\r\\n          <!-- Title Column -->\\r\\n          <ng-container matColumnDef=\\\"title\\\">\\r\\n            <mat-header-cell *matHeaderCellDef> Title </mat-header-cell>\\r\\n            <mat-cell *matCellDef=\\\"let element\\\"> {{element.title}} </mat-cell>\\r\\n          </ng-container>\\r\\n\\r\\n          <!-- Lat Column -->\\r\\n          <ng-container matColumnDef=\\\"lat\\\">\\r\\n            <mat-header-cell *matHeaderCellDef> Lat </mat-header-cell>\\r\\n            <mat-cell *matCellDef=\\\"let element\\\"> {{element.lat | number : '1.3-3' }} </mat-cell>\\r\\n          </ng-container>\\r\\n\\r\\n          <!-- Lng Column -->\\r\\n          <ng-container matColumnDef=\\\"lng\\\">\\r\\n            <mat-header-cell *matHeaderCellDef> Lng </mat-header-cell>\\r\\n            <mat-cell *matCellDef=\\\"let element\\\"> {{element.lng | number : '1.3-3' }} </mat-cell>\\r\\n          </ng-container>\\r\\n\\r\\n          <!-- Distance Column -->\\r\\n          <ng-container matColumnDef=\\\"distance\\\">\\r\\n            <mat-header-cell *matHeaderCellDef> Distance </mat-header-cell>\\r\\n            <mat-cell *matCellDef=\\\"let element\\\"> {{element.distance | number : '1.0-0' }} m</mat-cell>\\r\\n          </ng-container>\\r\\n\\r\\n          <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n          <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\r\\n        </mat-table>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </mat-card-content>\\r\\n\\r\\n</mat-card>\\r\\n\\r\\n<button (click)=\\\"setLocation();\\\">set current position</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/mapa/mapa.component.html\n// module id = ./src/app/components/mapa/mapa.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material';\r\nimport { Marcador } from '../../classes/marcador.class';\r\nimport { DeviceService } from '../../services/device.service';\r\nimport { IDevice } from '../../interfaces/device.interface';\r\nimport { ILocation } from '../../interfaces/location.interface';\r\nimport { MapsAPILoader } from '@agm/core';\r\nimport { MatTableDataSource } from '@angular/material';\r\ndeclare var google: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-mapa',\r\n  templateUrl: './mapa.component.html',\r\n  styleUrls: ['./mapa.component.css']\r\n})\r\nexport class MapaComponent implements OnInit {\r\n\r\n  devices: IDevice[] = [];\r\n  nearbyDevices: IDevice[] = [];\r\n  farDevices: IDevice[] = [];\r\n  radius: number = 100;\r\n  radiusOpts = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];\r\n  location: ILocation;\r\n  dataSource: MatTableDataSource<IDevice>;\r\n  displayedColumns = ['title', 'lat', 'lng', 'distance'];\r\n  lat: number = 6.2250704;\r\n  lng: number = -75.57404319999999;\r\n\r\n  constructor(public snackBar: MatSnackBar, private _deviceService: DeviceService, private mapsAPILoader: MapsAPILoader) {\r\n    this.devices = this._deviceService.getDevices();\r\n\r\n    // this.location = {\r\n    //   lat: this.lat,\r\n    //   lng: this.lng\r\n    // };\r\n\r\n    //this.setLocation();\r\n\r\n    // this.test().then((position) => {\r\n    //   console.log(position);\r\n    // }).catch((err) => {\r\n    //   console.log(err);\r\n    // });\r\n\r\n    // this.getPosition().then((position) => {\r\n    //   console.log(\"Esta es\", this.location);\r\n    // });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.mapsAPILoader.load().then(() => {\r\n      this.getPosition().then((position) => {\r\n        console.log(\"Esta es\", this.location);\r\n        this.calculateDistances();\r\n        this.updateDevices();\r\n      });\r\n    });\r\n  }\r\n\r\n  setLocation(location?: ILocation) {\r\n    if (!location && navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        this.location = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n      });\r\n    } else {\r\n      this.location = {\r\n        lat: location.lat,\r\n        lng: location.lng\r\n      };\r\n    }\r\n  }\r\n\r\n  dragEnd(event) {\r\n    console.log(event);\r\n    this.setLocation(event.coords);\r\n    this.calculateDistances();\r\n    this.updateDevices();\r\n  }\r\n\r\n  calculateDistances() {\r\n    this.devices.map((device) => {\r\n      let deviceLocation = new google.maps.LatLng(device.lat, device.lng);\r\n      let currentLocation = new google.maps.LatLng(this.location.lat, this.location.lng);\r\n      device.distance = google.maps.geometry.spherical.computeDistanceBetween(deviceLocation, currentLocation);\r\n    });\r\n  }\r\n\r\n  updateDevices() {\r\n    this.nearbyDevices = this.devices.filter(device => device.distance <= this.radius);\r\n    this.farDevices = this.devices.filter(device => device.distance > this.radius);\r\n    this.dataSource = new MatTableDataSource(this.farDevices);\r\n  }\r\n\r\n  onChange(radius) {\r\n    this.radius = radius;\r\n    this.updateDevices();\r\n  }\r\n\r\n\r\n  test() {\r\n    return new Promise(function (resolve, reject) {\r\n      navigator.geolocation.getCurrentPosition(resolve, reject);\r\n    });\r\n  }\r\n\r\n  getPosition() {\r\n    console.log('Getting position');\r\n    let promise = new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          this.location = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n          resolve(this.location);\r\n        },\r\n        () => {\r\n          reject('Position could not be determined.');\r\n        },\r\n        {\r\n          enableHighAccuracy: true\r\n        }\r\n      );\r\n    });\r\n    return promise;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/mapa/mapa.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// Angular Material\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatToolbarModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatSnackBarModule,\r\n    MatTableModule,\r\n    MatSelectModule\r\n  ],\r\n  exports: [\r\n    MatToolbarModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatSnackBarModule,\r\n    MatTableModule,\r\n    MatSelectModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class MaterialModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/material.module.ts","import { Injectable } from '@angular/core';\r\nimport { IDevice } from \"../interfaces/device.interface\";\r\n\r\n@Injectable()\r\nexport class DeviceService {\r\n\r\n  private devices: IDevice[] = [\r\n    {\r\n      id: 1,\r\n      title: 'Mercados del Rio',\r\n      lat: 6.226702,\r\n      lng: -75.575423\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'Centro de la moda',\r\n      lat: 6.222734,\r\n      lng: -75.574972\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'Gabriel Garcia Marquez',\r\n      lat: 6.219673,\r\n      lng: -75.571464\r\n    }\r\n  ];\r\n\r\n  constructor() { }\r\n\r\n  getDevices() {\r\n    return this.devices;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/device.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}